@using Downgrooves.Domain
@using Downgrooves.Admin.Services.Interfaces

@inject IApiService<Genre> genreService

@if (Genres != null && Genres.Any())
{
    <InputSelect @bind-Value="SelectedValue" TValue="int" class="form-control">
        @foreach (var genre in Genres.OrderBy(x => x.Name))
        {
            <option value="@genre.Id">@genre.Name</option>
        }
    </InputSelect>
}

@code
{
    [Parameter]
    public int SelectedValue { get; set; }     
    public IEnumerable<Genre> Genres { get; set; }

    protected async override Task OnInitializedAsync()
    {
        Genres = await genreService.GetAll(ApiEndpoint.Genres);
        await base.OnInitializedAsync();
    }
}